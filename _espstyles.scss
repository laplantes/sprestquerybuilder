@use "sass:color";

* { font-family: Helvetica, sans-serif; }

$borderRadius: 0.25rem;

// Colors
$primary: hsl(349, 71%, 36%); // MH Brand color
$secondary: hsl(205, 59%, 58%); // MH secondary color
// $secondary: hsl(205, 59%, 50%);
$borderColor: color.adjust($secondary, $lightness: -10%);
$noticeBackgroundColor: hsl(31, 17%, 62%); // MH Brand color
$toastTitleBackgroundColor: #111;
$toastMessageBackgroundColor: #333;

// Mixins

@mixin width-fit-content {
	width: -moz-fit-content;
	width: fit-content;
}

@mixin min-width-fit-content {
	min-width: -moz-fit-content;
	min-width: fit-content;
}

// Functions
@function getElementTextColor() {
    @if color.lightness($secondary) > 55% {
        @return color.adjust($secondary, $lightness: -100%);
    }
    @else if color.lightness($secondary) <= 55% {
        @return color.adjust($secondary, $lightness: +100%);
    }
}

@function getTitleTextColor() {
    @if color.lightness($primary) > 55% {
        @return color.adjust($primary, $lightness: -100%);
    }
    @else if color.lightness($primary) <= 55% {
        @return color.adjust($primary, $lightness: +100%);
    }
}

@function getNoticeTextColor() {
	@if color.lightness($noticeBackgroundColor) > 55% {
		@return color.adjust($noticeBackgroundColor, $lightness: -100%);
	}
	@else if color.lightness($noticeBackgroundColor) <= 55% {
		@return color.adjust($noticeBackgroundColor, $lightness: +100%);
	}
}

@function getElementHoverColor() {
    @if color.lightness($secondary) < 55% {
        @return color.adjust($secondary, $lightness: -10%);
    }
    @else if color.lightness($secondary) >= 55% {
        @return color.adjust($secondary, $lightness: +10%);
    }
}


$elementTextColor: getElementTextColor();
$linkHover: getElementHoverColor();
$buttonShadow: hsl(0, 0%, 33%);


// Elements
.title {
	text-align: center;
    margin-top: 0;
	padding: 0.5em 0;
	color: getTitleTextColor();
	background-color: $primary;
	border-bottom: 2px solid color.adjust($primary, $lightness: -10%);
    font-size: 2em;
    font-weight: 600;
    line-height: 1.125;
	user-select: none;

}

.box-raised {
    display: flex;
	flex-wrap: wrap;
    justify-content: space-between;
    color: $elementTextColor;
	background-color: white;
	border-radius: $borderRadius;
	box-shadow: inset -2px -1px 0px 2px hsl(0, 0%, 83%), 1px 2px 4px 0 hsl(0 0% 33%);
	filter: drop-shadow(2px 4px 3px #545454);
	
	&:not(:last-child) {
		margin-bottom: 1em;
	}
}

.box-inset {
    border-radius: $borderRadius;
    border: 1px solid transparent;
    border-top: none;
    border-bottom: 1px solid hsl(0, 0%, 87%);
    box-shadow: inset 0 1px 2px hsl(0, 0%, 50%), 0 -1px 1px hsl(0, 0%, 100%), 0 1px 0 hsl(0, 0%, 100%);
}

.box-item {
	@include width-fit-content();
	display: flex;
	margin: 0.25rem 0.25rem 0 0;
	background-color: $secondary;
    color: $elementTextColor;
    border-color: $borderColor;
    border-width: 1px;
	border-radius: $borderRadius;
	padding: 0.25rem;
	user-select: none;

	& > :last-child {
		height: 1.2rem;
		font-size: 0.8rem;
		margin-left: 0.5rem;
		background-color: white;
		padding: 0 0.2rem;
		border: 1px solid $borderColor;
		border-radius: $borderRadius;
		cursor: pointer;
	}
}

.btn {
    justify-content: center;
    text-align: center;
	font-weight: 600;;
	background-color: $secondary;
    color: $elementTextColor;
    border-color: $borderColor;
    border-width: 1px;
	border-radius: $borderRadius;
    cursor: pointer;
	padding: calc(0.5rem - 1px) 1rem;
    white-space: nowrap;
    box-shadow: 1px 1px 5px 0px grey;
	transition: background-color 0.4s ease-in-out;
	user-select: none;

	&:hover {
		background-color: $linkHover;

        &:active {
            box-shadow: none;
        }
    }
}

.input {
	justify-content: center;
    text-align: center;
    color: rgb(15, 15, 15);
    border-color: $borderColor;
    border-width: 1px;
	border-radius: $borderRadius;
    cursor: text;
	padding: calc(0.5rem - 1px) 1rem;
    white-space: nowrap;

    &::placeholder {
        color: hsl(0, 0%, 45%);
        opacity: 1;
    }
}

.dropdown {
    text-align: center;
    border-width: 1px;
	border-radius: $borderRadius;
    cursor: pointer;
	border-color: #3286c3;
	padding: calc(0.5rem - 1px) 1em;
    white-space: nowrap;
}

.notice {
	width: 90%;
	margin: 0 auto 1rem auto;
	background-color: $noticeBackgroundColor;
	color: getNoticeTextColor();
	border-radius: $borderRadius;
	border-left: 5px solid color.adjust($noticeBackgroundColor, $lightness: -15%);
	border-bottom: 2px solid color.adjust($noticeBackgroundColor, $lightness: -15%);

	.notice-header  {
		display: flex;
		flex-direction: row;
		justify-content: space-between;
		margin: 0 auto 0.5rem auto;
		padding: 0.25rem 0.25rem 0 1rem;

		> p {
			margin: 0;
			font-weight: 900;
			font-size: 1.25rem;
			border-bottom: 1px solid;
		}
		
		.close {
			width: 1.25rem;
			height: 1.25rem;
			font-size: 1.25rem;
			font-weight: 900;
			border: 2px solid color.adjust($noticeBackgroundColor, $lightness: -15%);
			border-radius: 50%;
			transform: rotate(45deg);
			transition: border 0.4s ease-in-out;
			user-select: none;
			
			&:hover {
				border: 2px solid;
			}

			& > span {
				cursor: pointer;
				display: flex;
				align-items: center;
				height: 0.925rem;
				justify-content: center;
			}
		}
	}

	.notice-body {
		width: 95%;
		margin: 0 auto;
	}
}

.footer {
	padding: 0.5em 0;
	color: getTitleTextColor();
	background-color: $primary;
	border-top: 2px solid color.adjust($primary, $lightness: -10%);
    font-size: .5em;
    line-height: 1.125;
	user-select: none;
}

.chevron-down {
	user-select: none;
	display: inline-block;
	margin: 0.4rem 0 2rem 0;
	border-right: 4px solid black;
	border-bottom: 4px solid black;
	width: 1.5rem; height: 1.5rem;
	transform: rotate(45deg);

	&::after {
	position: relative;
	margin-left: .5rem;
	content: "";
	display: inline-block;
	border-right: 4px solid black;
	border-bottom: 4px solid black;
	width: 1.5rem; height: 1.5rem;
	top: .5rem;
  }
}

.center-child {
	display: flex;
	justify-content: center;
}

// Toast Message
.toast {
    visibility: hidden;
	border-radius: $borderRadius;
    max-width: 2.2rem;
    height: 3.5rem;
    margin: auto;
    text-align: center;
	overflow: hidden;
    position: fixed;
    z-index: 1;
    left: 0;
	right:0;
    bottom: 2rem;
    font-size: 1rem;
}
.container-toast-contents {
	display: flex;
	margin-left: 2rem;
	margin-right: 2rem;
}
.toast-title {
	padding: 1rem;
    background-color: $toastTitleBackgroundColor;
	border-top-left-radius: $borderRadius;
	border-bottom-left-radius: $borderRadius;

}
.toast-message {
    background-color: $toastMessageBackgroundColor;
    padding: 1rem;
	border-top-right-radius: $borderRadius;
	border-bottom-right-radius: $borderRadius;
}
.show {
    visibility: visible;
    -webkit-animation: fadein 0.5s, expand 0.5s 0.5s, textcolor 0.5s 0.5s, stay 3s 1s, shrink 0.5s 4s, fadeout 0.75s 4.25s;
    animation: fadein 0.5s, expand 0.5s 0.5s, textcolor 0.5s 0.5s, stay 3s 1s, shrink 0.5s 4s, fadeout 0.75s 4.25s;
}

@-webkit-keyframes fadein {
    from {bottom: 0; opacity: 0;} 
    to {bottom: 2rem; opacity: 1;}
}

@keyframes fadein {
    from {bottom: 0; opacity: 0;}
    to {bottom: 2rem; opacity: 1;}
}

@-webkit-keyframes expand {
    from {min-width: 2.2rem; height: 3.5rem;} 
    to {min-width: fit-content; height: auto; }
}

@keyframes expand {
    from {min-width: 2.2rem; height: 3.5rem;}
    to {@include min-width-fit-content; height: auto;}
}

@-webkit-keyframes textcolor {
	from {color: transparent;}
	to {color: white;}
}

@keyframes textcolor {
	from {color: transparent;}
	to {color: white;}
}

@-webkit-keyframes stay {
    from {min-width: fit-content; color: white; height: auto;} 
    to {min-width: fit-content; color: white; height: auto;}
}

@keyframes stay {
    from {@include min-width-fit-content; color: white; height: auto;}
    to {@include min-width-fit-content; color: white; height: auto;}
}

@-webkit-keyframes shrink {
    from {min-width: fit-content;} 
    to {min-width: 2.2rem;}
}

@keyframes shrink {
    from {@include min-width-fit-content;} 
    to {min-width: 2.2rem;}
}

@-webkit-keyframes fadeout {
    from {bottom: 2rem; opacity: 1;} 
    to {bottom: 5.5rem; opacity: 0;}
}

@keyframes fadeout {
    from {bottom: 2rem; opacity: 1;}
    to {bottom: 5.5rem; opacity: 0;}
}